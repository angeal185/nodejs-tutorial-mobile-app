<ion-view view-title="File System">
	<ion-content class="custom_bg" has-bouncing="false" id="scrollFabButtonTarget11">
		<div class="card animated bounceInLeft">
			<div class="center item item-divider bg-color">
			  Intro
			</div>
			<div class="item item-text-wrap">
			<h2>
				Node implements File I/O using simple wrappers around standard POSIX functions. Node File System (fs) module can be imported using following syntax:
			</h2>
<pre>
var fs = require("fs")
</pre>
			</div>
		</div>

		<div class="card animated bounceInRight">
			<div class="center item item-divider bg-color">
			  Synchronous vs Asynchronous
			</div>
			<div class="item item-text-wrap">
			<h2>
			Every method in fs module have synchronous as well as asynchronous form. Asynchronous methods takes a last parameter as completion function callback and first parameter of the callback function is error. It is preferred to use asynchronous method instead of synchronous method as former never block the program execution where as the second one does.
			<br>			
			<b>Example</b><br>
			Create a text file named input.txt having following content
			</h2>
<pre>
You have to dream before your dreams can come true.
</pre>
				<h2>
				Let us create a js file named main.js having the following code.
				</h2>
<pre>
var fs = require("fs");

// Asynchronous read
fs.readFile('input.txt', function (err, data) {
   if (err) {
       return console.error(err);
   }
   console.log("Asynchronous read: " + data.toString());
});

// Synchronous read
var data = fs.readFileSync('input.txt');
console.log("Synchronous read: " + data.toString());

console.log("Program Ended");
</pre>
				<h2>
				Now run the main.js to see the result:
				</h2>
<pre>
$ node main.js
</pre>
				<h2>
				Verify the Output
				</h2>
<pre>
You have to dream before your dreams can come true.

Program Ended
You have to dream before your dreams can come true.
</pre>
				<h2>
				Following section will give good examples on major File I/O methods.
				</h2>
			</div>
		</div>

		<div class="card animated bounceInLeft">
			<div class="center item item-divider bg-color">
			  Open a File
			</div>
			<div class="item item-text-wrap">
			<h2>
			<b>Syntax</b><br>
			Following is the syntax of the method to open a file in asynchronous mode:
			</h2>
<pre>
fs.open(path, flags[, mode], callback)
</pre>
				<h2>
				<b>Example</b><br>
				Let us create a js file named main.js having the following code to open a file input.txt for reading and writing.
				</h2>
<pre>
var fs = require("fs");

// Asynchronous - Opening File
console.log("Going to open file!");
fs.open('input.txt', 'r+', function(err, fd) {
   if (err) {
       return console.error(err);
   }
  console.log("File opened successfully!");     
});
</pre>
				<h2>
				Now run the main.js to see the result:
				</h2>
<pre>
$ node main.js
</pre>
				<h2>
				Verify the Output
				</h2>
<pre>
Going to open file!
File opened successfully!
</pre>
			</div>
		</div>

		<div class="card animated bounceInRight">
			<div class="center item item-divider bg-color">
			  Get File information
			</div>
			<div class="item item-text-wrap">
			<h2>
			<b>Syntax</b><br>
			Following is the syntax of the method to get the information about a file:
			</h2>
<pre>
fs.stat(path, callback)
</pre>
			<h2>
			<b>Example</b><br>
			Let us create a js file named main.js having the following code:
			</h2>
<pre>
var fs = require("fs");

console.log("Going to get file info!");
fs.stat('input.txt', function (err, stats) {
   if (err) {
       return console.error(err);
   }
   console.log(stats);
   console.log("Got file info successfully!");
   
   // Check file type
   console.log("isFile ? " + stats.isFile());
   console.log("isDirectory ? " + stats.isDirectory());    
});
</pre>
			<h2>
			Now run the main.js to see the result:
			</h2>
<pre>
$ node main.js
</pre>
			<h2>
			Verify the Output
			</h2>
<pre>
Going to get file info!
{ dev: 1792,
  mode: 33188,
  nlink: 1,
  uid: 48,
  gid: 48,
  rdev: 0,
  blksize: 4096,
  ino: 4318127,
  size: 97,
  blocks: 8,
  atime: Sun Mar 22 2015 13:40:00 GMT-0500 (CDT),
  mtime: Sun Mar 22 2015 13:40:57 GMT-0500 (CDT),
  ctime: Sun Mar 22 2015 13:40:57 GMT-0500 (CDT) }
Got file info successfully!
isFile ? true
isDirectory ? false
</pre>
			</div>
		</div>

		<div class="card animated bounceInLeft">
			<div class="center item item-divider bg-color">
			  Writing File
			</div>
			<div class="item item-text-wrap">
				<h2>
				<b>Syntax</b><br>
				Following is the syntax of one of the methods to write into a file:
				</h2>
<pre>
fs.writeFile(filename, data[, options], callback)
</pre>
				<h2>
				This method will over-write the file if file already exists. If you want to write into an existing file then you should use another method available.
				</h2>
				<h2>
				<b>Example</b><br>
				Let us create a js file named main.js having the following code:
				</h2>
<pre>
var fs = require("fs");

console.log("Going to write into existing file");
fs.writeFile('input.txt', 'Simply Easy Learning!',  function(err) {
   if (err) {
       return console.error(err);
   }
   console.log("Data written successfully!");
   console.log("Let's read newly written data");
   fs.readFile('input.txt', function (err, data) {
      if (err) {
         return console.error(err);
      }
      console.log("Asynchronous read: " + data.toString());
   });
});
</pre>
			<h2>
			Now run the main.js to see the result:
			</h2>
<pre>
$ node main.js
</pre>
			<h2>
			Verify the Output
			</h2>
<pre>
Going to write into existing file
Data written successfully!
Let's read newly written data
Asynchronous read: Simply Easy Learning!
</pre>
			</div>
		</div>

		<div class="card animated bounceInRight">
			<div class="center item item-divider bg-color">
			  Reading File
			</div>
			<div class="item item-text-wrap">
			<h2>
			<b>Syntax</b><br>
Following is the syntax of one of the methods to read from a file:
</h2>
<pre>
fs.read(fd, buffer, offset, length, position, callback)
</pre>
			<h2>
			This method will use file descriptor to read the file, if you want to read file using file name directly then you should use another method available.
			</h2>
<h2>
<b>Example</b><br>
Let us create a js file named main.js having the following code:
</h2>
<pre>
var fs = require("fs");
var buf = new Buffer(1024);

console.log("Going to open an existing file");
fs.open('input.txt', 'r+', function(err, fd) {
   if (err) {
       return console.error(err);
   }
   console.log("File opened successfully!");
   console.log("Going to read the file");
   fs.read(fd, buf, 0, buf.length, 0, function(err, bytes){
      if (err){
         console.log(err);
      }
      console.log(bytes + " bytes read");
      
      // Print only read bytes to avoid junk.
      if(bytes > 0){
         console.log(buf.slice(0, bytes).toString());
      }
   });
});
</pre>
				<h2>
				Now run the main.js to see the result:
				</h2>
<pre>
$ node main.js
</pre>
				<h2>
				Verify the Output
				</h2>
<pre>
Going to open an existing file
File opened successfully!
Going to read the file
46 bytes read
You have to dream before your dreams can come true.
</pre>
			</div>
		</div>

		<div class="card animated bounceInLeft">
			<div class="center item item-divider bg-color">
			  Closing File
			</div>
			<div class="item item-text-wrap">
			<h2>
			<b>Syntax</b><br>
			Following is the syntax of one of the methods to close an opened file:
			</h2>
<pre>
fs.close(fd, callback)
</pre>
			<h2>
			<b>Example</b><br>
			Let us create a js file named main.js having the following code:
			</h2>
<pre>
var fs = require("fs");
var buf = new Buffer(1024);

console.log("Going to open an existing file");
fs.open('input.txt', 'r+', function(err, fd) {
   if (err) {
       return console.error(err);
   }
   console.log("File opened successfully!");
   console.log("Going to read the file");
   fs.read(fd, buf, 0, buf.length, 0, function(err, bytes){
      if (err){
         console.log(err);
      }

      // Print only read bytes to avoid junk.
      if(bytes > 0){
         console.log(buf.slice(0, bytes).toString());
      }

      // Close the opened file.
      fs.close(fd, function(err){
         if (err){
            console.log(err);
         } 
         console.log("File closed successfully.");
      });
   });
});
</pre>
				<h2>
				Now run the main.js to see the result:
				</h2>
<pre>
$ node main.js
</pre>
				<h2>
				Verify the Output
				</h2>
<pre>
Going to open an existing file
File opened successfully!
Going to read the file
You have to dream before your dreams can come true.

File closed successfully.
</pre>
			</div>
		</div>

		<div class="card animated bounceInRight">
			<div class="center item item-divider bg-color">
			  Delete File
			</div>
			<div class="item item-text-wrap">
			<h2>
			<b>Syntax</b><br>
			Following is the syntax of the method to delete a file:
			</h2>
<pre>
fs.unlink(path, callback)
</pre>
			<h2>
			<b>Example</b>
			Let us create a js file named main.js having the following code:
			</h2>
<pre>
var fs = require("fs");

console.log("Going to delete an existing file");
fs.unlink('input.txt', function(err) {
   if (err) {
       return console.error(err);
   }
   console.log("File deleted successfully!");
});
</pre>
				<h2>
				Now run the main.js to see the result:
				</h2>
<pre>
$ node main.js
</pre>
				<h2>
				Verify the Output
				</h2>
<pre>
Going to delete an existing file
File deleted successfully!
</pre>
			</div>
		</div>

		<div class="card animated bounceInLeft">
			<div class="center item item-divider bg-color">
			  Create Directory
			</div>
			<div class="item item-text-wrap">
			<h2>
			<b>Syntax</b><br>
			Following is the syntax of the method to create a directory:
			</h2>
<pre>
fs.mkdir(path[, mode], callback)
</pre>
			<h2>
			<b>Example</b><br>
			Let us create a js file named main.js having the following code:
			</h2>
<pre>
var fs = require("fs");

console.log("Going to create directory /tmp/test");
fs.mkdir('/tmp/test',function(err){
   if (err) {
       return console.error(err);
   }
   console.log("Directory created successfully!");
});
</pre>
			<h2>
			Now run the main.js to see the result:
			</h2>
<pre>
$ node main.js
</pre>
			<h2>
			Verify the Output
			</h2>
<pre>
Going to create directory /tmp/test
Directory created successfully!
</pre>
			</div>
		</div>

		<div class="card animated bounceInRight">
			<div class="center item item-divider bg-color">
			  Read Directory
			</div>
			<div class="item item-text-wrap">
			<h2>
			<b>Syntax</b><br>
			Following is the syntax of the method to read a directory:
			</h2>
<pre>
fs.readdir(path, callback)
</pre>
			<h2>
			<b>Example</b><br>
			Let us create a js file named main.js having the following code:
			</h2>
<pre>
var fs = require("fs");

console.log("Going to read directory /tmp");
fs.readdir("/tmp/",function(err, files){
   if (err) {
       return console.error(err);
   }
   files.forEach( function (file){
       console.log( file );
   });
});
</pre>
			<h2>
			Now run the main.js to see the result:
			</h2>
<pre>
$ node main.js
</pre>
			<h2>
			Verify the Output
			</h2>
<pre>
Going to read directory /tmp
ccmzx99o.out
ccyCSbkF.out
employee.ser
hsperfdata_apache
test
test.txt
</pre>
			</div>
		</div>

		<div class="card animated bounceInRight">
			<div class="center item item-divider bg-color">
			  Remove Directory
			</div>
			<div class="item item-text-wrap">
			<h2>
			<b>Syntax</b><br>
			Following is the syntax of the method to remove a directory:
			</h2>
<pre>
fs.rmdir(path, callback)
</pre>
			<h2>
			<b>Example</b><br>
			Let us create a js file named main.js having the following code:
			</h2>
<pre>
var fs = require("fs");

console.log("Going to delete directory /tmp/test");
fs.rmdir("/tmp/test",function(err){
   if (err) {
       return console.error(err);
   }
   console.log("Going to read directory /tmp");
   fs.readdir("/tmp/",function(err, files){
      if (err) {
          return console.error(err);
      }
      files.forEach( function (file){
          console.log( file );
      });
   });
});
</pre>
			<h2>
			Now run the main.js to see the result:
			</h2>
<pre>
$ node main.js
</pre>
			<h2>
			Verify the Output
			</h2>
<pre>
Going to read directory /tmp
ccmzx99o.out
ccyCSbkF.out
employee.ser
hsperfdata_apache
test.txt
</pre>
			</div>
		</div>
	</ion-content>
	<fab-button ui-sref="app.globalobjects" target-id="scrollFabButtonTarget11">
      <i class="icon ion ion-chevron-right"></i>
    </fab-button>
    <fab-button-right ui-sref="app.streams" target-id="scrollFabButtonTarget11">
      <i class="icon ion ion-chevron-left"></i>
    </fab-button-right>
</ion-view>